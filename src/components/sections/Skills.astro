---
import { 
  PaletteIcon, Code2Icon, MegaphoneIcon, KanbanSquareIcon, LayersIcon, ImageIcon, PenToolIcon, 
  VideoIcon, ClapperboardIcon, CameraIcon, Mic2Icon, FigmaIcon, FileCodeIcon, BracesIcon, TerminalIcon, 
  RocketIcon, Globe2Icon, LayoutGridIcon, LinkedinIcon, Edit3Icon, SearchCheckIcon, CheckSquareIcon, 
  BookTextIcon, LayoutDashboardIcon, ActivityIcon, BoxIcon, CloudIcon, CpuIcon, DatabaseIcon, 
  GitBranchIcon, ServerIcon 
} from '@lucide/astro';

import { t } from '../../utils/i18n';

interface Props {
  lang: string | undefined;
}

const { lang } = Astro.props;

const skillClusters = [
  {
    id: 'languages',
    title: t('skills.clusters.languages.title', lang),
    description: t('skills.clusters.languages.description', lang),
    icon: Code2Icon, 
    tools: [
      { name: 'Python', icon: TerminalIcon },
      { name: 'JavaScript', icon: BracesIcon },
      { name: 'Java', icon: FileCodeIcon },
      { name: 'C/C++', icon: Code2Icon },
      { name: 'Swift', icon: RocketIcon },
      { name: 'SQL', icon: DatabaseIcon },
    ]
  },
  {
    id: 'ai-ml',
    title: t('skills.clusters.ai_ml.title', lang),
    description: t('skills.clusters.ai_ml.description', lang),
    icon: LayersIcon, 
    tools: [
      { name: 'PyTorch', icon: CpuIcon },
      { name: 'TensorFlow', icon: LayersIcon },
      { name: 'YOLO', icon: BoxIcon }, 
      { name: 'OpenCV', icon: CameraIcon }, 
      { name: 'CUDA', icon: ActivityIcon }, 
    ]
  },
  {
    id: 'frameworks-tools',
    title: t('skills.clusters.frameworks_tools.title', lang),
    description: t('skills.clusters.frameworks_tools.description', lang),
    icon: Globe2Icon, 
    tools: [
      { name: 'ReactJS', icon: Globe2Icon },
      { name: 'NodeJS', icon: ServerIcon },
      { name: 'Docker', icon: BoxIcon }, 
      { name: 'Git', icon: GitBranchIcon },
      { name: 'AWS', icon: CloudIcon },
      { name: 'Linux', icon: TerminalIcon },
    ]
  }
];
---

<section id="skills" class="py-16 md:py-24">
  <div class="max-w-container mx-auto px-6">
    <div class="mb-8 md:mb-10 text-center" data-aos="fade-up" data-aos-duration="800">
      <h2 class="font-heading text-h2 text-secondary dark:text-white mb-4">{t('skills.title', lang)}</h2>
      <p class="text-secondary/70 dark:text-white/70 max-w-2xl mx-auto">
        {t('skills.subtitle', lang)}
      </p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8">
      {skillClusters.map((cluster, index) => (
        <div
          id={cluster.id}
          class="skill-cluster bg-white dark:bg-neutral-dark border border-gray-100 dark:border-gray-800 rounded-xl p-6 shadow-sm hover:shadow-md transition-all duration-300"
          data-aos="fade-up"
          data-aos-duration="600"
          data-aos-delay={index * 150}
        >
          <div class="cluster-header flex items-center mb-4">
            <div class="icon-container mr-4 text-primary bg-primary/5 p-3 rounded-lg">
              <cluster.icon size={26} stroke-width={1.75} />
            </div>
            <h3 class="font-heading text-xl text-secondary dark:text-white">
              {cluster.title}
            </h3>
          </div>

          <p class="text-secondary/70 dark:text-white/70 mb-4 cluster-description">
            {cluster.description}
          </p>

          <div class="cluster-tools grid grid-cols-2 gap-4 mt-6">
            {cluster.tools.map((tool) => (
              <div class="tool-item flex flex-col items-center text-center">
                <div class="tool-icon text-primary bg-primary/5 p-3 rounded-lg mb-2">
                  <tool.icon size={20} stroke-width={1.75} />
                </div>
                <p class="text-sm font-medium text-secondary dark:text-white">{tool.name}</p>
              </div>
            ))}
          </div>
        </div>
      ))}
    </div>
  </div>
</section>

<script>
  // Skills section will be animated via the animations.js file
</script>
